-- Создание таблицы ПОКУПАТЕЛЬ
CREATE TABLE покупатель (
    идентификатор SERIAL PRIMARY KEY,  -- Идентификатор покупателя
    фамилия VARCHAR(100) NOT NULL,     -- Фамилия покупателя
    район_проживания VARCHAR(100) NOT NULL, -- Район проживания покупателя
    скидка INT NOT NULL                -- Скидка покупателя в процентах
);

-- Создание таблицы МАГАЗИН
CREATE TABLE магазин (
    идентификатор SERIAL PRIMARY KEY,  -- Идентификатор магазина
    название VARCHAR(100) NOT NULL,     -- Название магазина
    район_размещения VARCHAR(100) NOT NULL, -- Район размещения магазина
    комиссионные INT NOT NULL          -- Комиссионные магазина в процентах
);

-- Создание таблицы КНИГИ
CREATE TABLE книги (
    идентификатор SERIAL PRIMARY KEY,  -- Идентификатор книги
    название VARCHAR(200) NOT NULL,     -- Название книги
    стоимость INT NOT NULL,             -- Стоимость книги
    склад VARCHAR(100) NOT NULL,        -- Склад, где хранится книга
    количество INT NOT NULL            -- Количество книг на складе
);

-- Создание таблицы ПОКУПКА
CREATE TABLE покупка (
    номер_заказа SERIAL PRIMARY KEY,    -- Номер заказа
    дата VARCHAR(50) NOT NULL,           -- Дата покупки
    продавец INT NOT NULL,              -- Продавец (ссылается на магазин)
    покупатель INT NOT NULL,            -- Покупатель (ссылается на покупателя)
    книга INT NOT NULL,                 -- Книга (ссылается на книгу)
    количество INT NOT NULL,            -- Количество купленных книг
    сумма INT NOT NULL,                 -- Сумма покупки
    FOREIGN KEY (продавец) REFERENCES магазин(идентификатор),
    FOREIGN KEY (покупатель) REFERENCES покупатель(идентификатор),
    FOREIGN KEY (книга) REFERENCES книги(идентификатор)
);